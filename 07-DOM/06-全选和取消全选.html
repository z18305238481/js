<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>全选和取消全选</title>
  </head>
  <body>
    <h2>管理员列表</h2>
    <table border="1px" width="500px">
      <thead>
        <tr>
          <th><input type="checkbox" />全选</th>
          <th>管理员ID</th>
          <th>姓名</th>
          <th>操作</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><input type="checkbox" /></td>
          <td>1</td>
          <td>Tester</td>
          <td>修改 删除</td>
        </tr>
        <tr>
          <td><input type="checkbox" /></td>
          <td>2</td>
          <td>Manager</td>
          <td>修改 删除</td>
        </tr>
        <tr>
          <td><input type="checkbox" /></td>
          <td>3</td>
          <td>Analyst</td>
          <td>修改 删除</td>
        </tr>
        <tr>
          <td><input type="checkbox" /></td>
          <td>4</td>
          <td>Admin</td>
          <td>修改 删除</td>
        </tr>
      </tbody>
    </table>
    <button>删除选定</button>
    <script>
      (function() {
        let chbAll = document.querySelector("thead input");
        let chbs = document.querySelectorAll("tbody tr td:first-child input");
        chbAll.onclick = function() {
          for (let chb of chbs) {
            chb.checked = this.checked;
          }
        };

        for (let chb of chbs) {
          chb.onclick = function() {
            let flag = true;
            //只要有一个未选中就取消全选按钮
            for (let c of chbs) {
              c.checked == false && (flag = false);
            }
            chbAll.checked = flag;
          };
        }

        let btn = document.querySelector("button");
        btn.onclick = function() {
          let inps = document.querySelectorAll("input");
          for (let inp of inps) {
            inp.checked = false;
          }
        };
      })();
    </script>
  </body>
</html>
